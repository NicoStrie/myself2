<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Cookie-Einwilligungsbanner</title>
  <style>
    #cookie-banner {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80%;
      max-width: 600px;
      background: #fff;
      padding: 30px;
      border: 2px solid #ccc;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      font-family: sans-serif;
      z-index: 9999;
      display: none;
      border-radius: 10px;
      text-align: center;
    }

    #cookie-banner p {
      margin-bottom: 20px;
      font-size: 16px;
      color: #333;
    }

    #cookie-banner a {
      color: #007bff;
      text-decoration: underline;
    }

    .cookie-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
      align-items: center;
    }

    .btn {
      padding: 12px 20px;
      font-size: 14px;
      border: none;
      cursor: pointer;
      border-radius: 4px;
    }

    .btn-accept {
      background-color: #4caf50;
      color: white;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-customize {
      background: none;
      color: #007bff;
      text-decoration: underline;
      font-size: 14px;
      cursor: pointer;
    }

    .btn-reject {
      background-color: #f44336;
      color: white;
    }

    .btn-lang {
      background-color: #ddd;
      margin-bottom: 15px;
      padding: 6px 10px;
      font-size: 12px;
      border-radius: 4px;
      border: none;
      cursor: pointer;
    }

    #settings-panel {
      margin-top: 20px;
      display: none;
    }

  
  </style>
</head>
<body>

<div id="cookie-banner">
  <div>
    <button class="btn-lang" onclick="switchLang('de')">DE</button>
    <button class="btn-lang" onclick="switchLang('it')">IT</button>
    <button class="btn-lang" onclick="switchLang('fr')">FR</button>
    <button class="btn-lang" onclick="switchLang('en')">EN</button>
  </div>

  <p id="cookie-text">
    Wir verwenden Cookies, um Inhalte und Anzeigen zu personalisieren, Funktionen für soziale Medien anzubieten und die Zugriffe auf unsere Website zu analysieren. 
    Informationen zu Ihrer Nutzung unserer Website werden an unsere Partner für soziale Medien, Werbung und Analysen weitergegeben.
    <a href="/privacy">Mehr erfahren</a>.
  </p>

  <div class="cookie-buttons">
    <button class="btn-customize" onclick="openSettings()" id="settings-btn">Einstellungen</button>
    <button class="btn btn-accept" onclick="handleConsent('granted')" id="accept-btn">
      <span id="accept-label">Alle akzeptieren</span>
    </button>
  </div>

  <div id="settings-panel">
    <p id="settings-text">Hier können Sie Ihre Cookie-Einstellungen anpassen:</p>
    <button class="btn btn-reject" onclick="handleConsent('denied')" id="reject-btn">Nur notwendige Cookies verwenden</button>
  </div>
</div>

<script>
  const translations = {
    de: {
      text: "Wir verwenden Cookies, um Inhalte und Anzeigen zu personalisieren, Funktionen für soziale Medien anzubieten und die Zugriffe auf unsere Website zu analysieren. Informationen zu Ihrer Nutzung unserer Website werden an unsere Partner für soziale Medien, Werbung und Analysen weitergegeben. <a href='/privacy'>Mehr erfahren</a>.",
      accept: "Alle akzeptieren",
      customize: "Einstellungen",
      reject: "Nur notwendige Cookies verwenden",
      settingsText: "Hier können Sie Ihre Cookie-Einstellungen anpassen:"
    },
    en: {
      text: "We use cookies to personalize content and ads, provide social media features, and analyze our traffic. Information about your use of our site is shared with our social media, advertising, and analytics partners. <a href='/privacy'>Learn more</a>.",
      accept: "Accept all",
      customize: "Settings",
      reject: "Use necessary cookies only",
      settingsText: "Here you can adjust your cookie preferences:"
    },
    it: {
      text: "Utilizziamo i cookie per personalizzare contenuti e annunci, fornire funzionalità dei social media e analizzare il nostro traffico. Le informazioni sull'utilizzo del sito sono condivise con i nostri partner di social media, pubblicità e analisi. <a href='/privacy'>Scopri di più</a>.",
      accept: "Accetta tutto",
      customize: "Impostazioni",
      reject: "Usa solo cookie necessari",
      settingsText: "Qui puoi modificare le tue preferenze sui cookie:"
    },
    fr: {
      text: "Nous utilisons des cookies pour personnaliser le contenu et les publicités, offrir des fonctionnalités de médias sociaux et analyser notre trafic. Les informations sur votre utilisation de notre site sont partagées avec nos partenaires de médias sociaux, de publicité et d’analyse. <a href='/confidentialite'>En savoir plus</a>.",
      accept: "Tout accepter",
      customize: "Paramètres",
      reject: "Utiliser uniquement les cookies nécessaires",
      settingsText: "Ici, vous pouvez ajuster vos préférences en matière de cookies :"
    }
  };

  function handleConsent(status) {
    gtag('consent', 'update', {
      'ad_storage': status,
      'analytics_storage': status
    });

    document.getElementById('cookie-banner').style.display = 'none';
    localStorage.setItem('cookie_consent', status);
    console.log("Cookie-Einwilligung gesetzt auf:", status);
  }

  function openSettings() {
    document.getElementById('settings-panel').style.display = 'block';
  }

  function switchLang(lang) {
    const t = translations[lang];
    document.getElementById('cookie-text').innerHTML = t.text;
    document.getElementById('accept-label').innerText = t.accept;
    document.getElementById('settings-btn').innerText = t.customize;
    document.getElementById('reject-btn').innerText = t.reject;
    document.getElementById('settings-text').innerText = t.settingsText;
  }

  // Show banner only if no consent has been stored
  window.addEventListener('DOMContentLoaded', function () {
    if (!localStorage.getItem('cookie_consent')) {
      document.getElementById('cookie-banner').style.display = 'block';
      switchLang('de'); // default language
    }
  });

  // Google gtag setup
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'analytics_storage': 'denied'
  });
</script>

</body>
</html>




